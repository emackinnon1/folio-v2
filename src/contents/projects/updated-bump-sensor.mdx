---
title: 'Updated ESP32-based bump sensor'
description: 'Updated ESP32-based bump sensor with SIM'
category: 'DIY microcontroller projects'
publishedAt: '2025-05-05'
techs: 'c++,home assistant'
banner: '/images/projects/updated-bump-sensor/button-circuit.png'
link: 'https://github.com/emackinnon1/lilygo-bump-GPS'
---

<br />
The previous iteration of this
<a className='mt-2' href='/projects/updating-bump-sensor'>
  project
</a>
was a _very_ DIY-looking project. I used some large electrical junction boxes, velcro,
and way too many wires to jerry rig it all to my motorcycle. It worked, but it was
ugly. Since then, I have made some updates.

## Smaller form factor

Rather than look like I am riding around with homemade explosives on my
motorcycle, I cleaned up the form factor a lot more:

<div className='flex items-center'>
  <Img
    mdx
    publicId='/images/projects/updated-bump-sensor/bump-sensor-1.jpg'
    alt='Modular bump sensor'
    width={250}
    height={350}
  />
  <Img
    mdx
    publicId='/images/projects/updated-bump-sensor/bump-sensor-2.jpg'
    alt='Modular bump sensor'
    width={250}
    height={350}
  />
  <Img
    mdx
    publicId='/images/projects/updated-bump-sensor/bump-sensor-3.jpg'
    alt='Modular bump sensor'
    width={250}
    height={350}
  />
</div>

Since a lot of my devices are one-off and I am constantly changing the designs,
I try to use solderless parts where I can to not have to completely redo things
when I make a design change. I use a lot of these
[solderless wire connectors](https://www.amazon.com/GKEEMARS-Connector-Conductor-Connectors-Splicing/dp/B08P1LXKY5/ref=sr_1_3_pp?crid=1WI8R0AHFXIDV&dib=eyJ2IjoiMSJ9.7-iV7prF7qwmEzWMHAJhp7uX0UzvJZunm3GAKsiIWWik48-xms4CPoB8wKTiPUgKbO7BnFZMtbHXgwHMQrPzv4DHl1qw5VDC9aTzGMSbZb3P-6DM1LXcAB3RqGLr5No6djiLsaB6OiiGIoXebq0qIM4GqjV_vz6mvSJbBaLeqjoD13PS4KZMfTSB9mTqy0lXtlgy5YF2wq297bkZKVnP9WtzUzGrsqFR-Xr-8yjArLg.99sZMATiRYnxo7plKXc1_3McPohs6pBX6tegCIr3gQQ&dib_tag=se&keywords=solderless+wire+connectors&qid=1746540485&sprefix=solderless+%2Caps%2C157&sr=8-3),
but in this case that meant a lot of added bulk. Getting rid of them allowed me
to get everything in a 5.9×3.9×2.8 inch (150×100×70mm)
[electrical box](https://www.amazon.com/dp/B09CMJQ921?ref_=ppx_hzsearch_conn_dt_b_fed_asin_title_8).

The box now holds:

- the
  [solar power manager](https://www.amazon.com/dp/B0CT2ZBML9?ref_=ppx_hzsearch_conn_dt_b_fed_asin_title_2)
- the 18650 battery holder (comes with solar power manager) with three 18650
  batteries
- the pig tail connector going to the
  [motorcycle cover](https://www.amazon.com/dp/B07YN9SD37?ref_=ppx_hzsearch_conn_dt_b_fed_asin_title_1)
  with a built in solar panel
- the wire routed to the other solar panel (attached to my topbox) for charging
  without the cover on
- the button to turn the MPU off, plus the wiring to the diode and 10K resistor
- the MPU6050
- the buzzer alarm with its
  [A23 battery holder](https://www.amazon.com/AIMPGSTL-Battery-Project-Electronic-Circuit/dp/B0BDT1DTGW/ref=sr_1_3_sspa?crid=32SS6BVT0YHKU&dib=eyJ2IjoiMSJ9.IBTMkIPYPHN3CvzC_7WPIXpmCDHuWs3C4Gu4BZ1alQ0.Mxia7BeAJHemEMVTj0d-0NOjICCh-wqpa0Z8Tkitpik&dib_tag=se&keywords=2Pcs+12V23A+Battery+Holder+with+Extend+Switch+Single+Slot+Battery+Case+Box+for+Project+Electronic+Circuit&qid=1746543553&s=hi&sprefix=2pcs+12v23a+battery+holder+with+extend+switch+single+slot+battery+case+box+for+project+electronic+circuit%2Ctools%2C197&sr=1-3-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9tdGY&psc=1)
  and battery
- the lilygo

## Button to disable the MPU6050

Another thing I did was attach an external button to disable the MPU6050,
meaning I don't have to open up the box and flip the switch of the Lilygo
anymore when I want to ride around (otherwise the MPU constantly goes off from
the motion of the ride).

Normally the INT drops to a logical 0 (low) to signal a change in motion or
position. The new circuit uses a diode, a 10K resistor and a toggle button to
hold the INT signal from the MPU to a logical 1 (high) when the circuit is
closed, preventing the drop to a low.

<Img
  mdx
  publicId='/images/projects/updated-bump-sensor/button-circuit.png'
  alt='full assembly'
  height={500}
  width={800}
/>

I used some
[metal brackets](https://www.amazon.com/dp/B09P5BS72Q?ref_=ppx_hzsearch_conn_dt_b_fed_asin_title_4&th=1)
and some
[clamps](https://www.amazon.com/dp/B08BC6DYJG?ref_=ppx_hzsearch_conn_dt_b_fed_asin_title_2&th=1)
to attach the junction box with everything stuffed in it to the pannier rack.

It's still a DIY project, but at least it is now hidden away and less of an
eyesore!
